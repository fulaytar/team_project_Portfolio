import{a as x,i as T}from"./assets/vendor-8cce9181.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();let b=0,q=0;const g=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),w=50,v=1e3,C=["1.1rem","1.4rem",".8rem","1.7rem"],_=["#E23636","#F9F3EE","#E1F8DC","#B8AFE6","#AEE1CD","#5EB0E5"],u=(s,t)=>Math.floor(Math.random()*(t-s+1))+s,E=s=>s[u(0,s.length-1)],N=(s,t,e,r)=>Math.sqrt(Math.pow(e-s,2)+Math.pow(r-t,2)),F=(s,t)=>N(b,q,s,t)>=w,I=(s,t)=>{const e=document.createElement("div");e.innerHTML="&#10022;",e.className="star",e.style.top=`${t+u(-20,20)}px`,e.style.left=`${s}px`,e.style.color=E(_),e.style.fontSize=E(C),document.body.appendChild(e);const r=10+5*parseFloat(getComputedStyle(e).fontSize);e.animate({translate:`0 ${t+r>g?g-t:r}px`,opacity:0,transform:`rotateX(${u(1,500)}deg) rotateY(${u(1,500)}deg)`},{duration:v,fill:"forwards"}),setTimeout(()=>{e.remove()},v)};addEventListener("mousemove",s=>{const{clientX:t,clientY:e}=s;F(t,e)&&(I(t,e),b=t,q=e)});class ${constructor(t){this.el=t,this.chars="!<>-_\\/[]{}—=+*^?#________",this.update=this.update.bind(this)}setText(t){const e=this.el.innerText,r=Math.max(e.length,t.length),o=new Promise(a=>this.resolve=a);this.queue=[];for(let a=0;a<r;a++){const n=e[a]||"",m=t[a]||"",d=Math.floor(Math.random()*40),c=d+Math.floor(Math.random()*40);this.queue.push({from:n,to:m,start:d,end:c})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),o}update(){let t="",e=0;for(let r=0,o=this.queue.length;r<o;r++){let{from:a,to:n,start:m,end:d,char:c}=this.queue[r];this.frame>=d?(e++,t+=n):this.frame>=m?((!c||Math.random()<.28)&&(c=this.randomChar(),this.queue[r].char=c),t+=`<span class="dud">${c}</span>`):t+=a}this.el.innerHTML=t,e===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}randomChar(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}const L=["I&#39;m Fullstack developer Lloyd Jefferson."],z=document.querySelector(".text"),B=new $(z);let h=0;const M=()=>{h<L.length&&(B.setText(L[h]).then(()=>{setTimeout(M,800)}),h++)};M();const i=document.getElementById("form"),O=document.querySelector("[data-close-button]"),f=document.getElementById("overlay"),p=document.getElementById("modal"),k=x.create({baseURL:"https://portfolio-js.b.goit.study/api",headers:{Accept:"application/json"}}),A=s=>{p!==null&&(s==="open"?(p.classList.add("active"),f.classList.add("active")):s==="close"&&(p.classList.remove("active"),f.classList.remove("active")))},D=()=>{A("open")},y=()=>{A("close")},H=async s=>{try{const t=await k.post("/requests",s);R(t.data)}catch(t){P(t.message)}},R=s=>{Z(s),i.reset()},P=s=>{T.error({title:"Error",message:s,position:"topRight"})},l=(s,t,e)=>{const r=s.parentNode;r.classList.add(e);const o=document.createElement("label");o.classList.add(`${e}-label`),o.textContent=t,r.append(o)},j=s=>{const t=s.parentNode;t.classList.remove("error","success");const e=t.querySelector(".error-label");e&&e.remove();const r=t.querySelector(".success-label");r&&r.remove()},Z=s=>{const{title:t,message:e}=s,r=document.querySelector(".content");r.innerHTML="";const o=document.createElement("h2");o.textContent=t;const a=document.createElement("p");a.textContent=e,r.append(o,a),D()},S=()=>{const s=i.querySelectorAll(".form-control"),t=[];return s.forEach(e=>{const r=e.parentNode,o=e.getAttribute("type")||e.tagName.toLowerCase();switch(j(e),o){case"text":e.value.trim()===""?(r.classList.add("error"),l(e,"The field is required.","error"),t.push(e.getAttribute("name"))):(r.classList.remove("error"),l(e,"Success!","success"));break;case"email":const a=/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;e.value.trim()===""||!a.test(e.value)?(r.classList.add("error"),l(e,"Invalid email, please try again","error"),t.push(e.getAttribute("name"))):(r.classList.remove("error"),l(e,"Success!","success"));break;default:e.value.trim()===""?(r.classList.add("error"),l(e,"The field is required.","error"),t.push(e.getAttribute("name"))):(r.classList.remove("error"),l(e,"Success!","success"));break}}),t.length>0};document.addEventListener("keyup",s=>{s.key==="Escape"&&y()});O.addEventListener("click",y);f.addEventListener("click",y);i.addEventListener("submit",s=>{if(s.preventDefault(),!S()){let e=Object.fromEntries(new FormData(document.getElementById("form")).entries());H(e),Array.prototype.forEach.call(i.querySelectorAll("label"),r=>{r.parentNode.removeChild(r)}),Array.prototype.forEach.call(document.querySelectorAll(".input-holder"),r=>{r.classList.remove("success")})}});i.addEventListener("input",s=>{S()});
//# sourceMappingURL=commonHelpers.js.map
