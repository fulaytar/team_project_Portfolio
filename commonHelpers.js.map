{"version":3,"file":"commonHelpers.js","sources":["../src/js/mouse_hover.js","../src/js/work_together.js"],"sourcesContent":["let x1=0, y1=0;\nwindow.client\nconst \n  vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\n  dist_to_draw = 50,\n  delay = 1000,\n  fsize = [\n    '1.1rem', '1.4rem', '.8rem', '1.7rem'\n  ],\n  colors = [\n  '#E23636',\n  '#F9F3EE',\n  '#E1F8DC',\n  '#B8AFE6',\n  '#AEE1CD',\n  '#5EB0E5'\n],\n  rand = (min, max) => \n    Math.floor(Math.random() * (max - min + 1)) + min,\n  selRand = (o) => o[rand(0, o.length -1)],\n  distanceTo =  (x1, y1, x2, y2) => \n    Math.sqrt((Math.pow(x2-x1,2))+(Math.pow(y2-y1,2))),\n  shouldDraw = (x, y) => \n    (distanceTo(x1, y1, x, y) >= dist_to_draw),\n  addStr = (x, y) => {\n    const str = document.createElement(\"div\");\n    str.innerHTML = '&#10022;';\n    str.className = 'star';\n    str.style.top = `${y + rand(-20,20)}px`;\n    str.style.left = `${x}px`;\n    str.style.color = selRand(colors);\n    str.style.fontSize = selRand(fsize);\n    document.body.appendChild(str);\n    //console.log(rand(0, 3));\n    const fs = 10 + 5 * parseFloat(getComputedStyle(str).fontSize);\n    //console.log(vh, y, fs);\n    //console.log((y+fs)>vh?vh-y:fs);\n    str.animate({\n      translate: `0 ${(y+fs)>vh?vh-y:fs}px`,\n      opacity: 0,\n      transform: `rotateX(${rand(1, 500)}deg) rotateY(${rand(1, 500)}deg)`\n    }, {\n      duration: delay,\n      fill: 'forwards',\n\n    });\n    //could add a animation terminate listener, but why add the additional load\n    setTimeout(() => {\n        str.remove();\n      }, delay);\n  }\n\naddEventListener(\"mousemove\", (e) => {\n  const {clientX, clientY} = e;\n  if(shouldDraw(clientX, clientY)){\n    addStr(clientX, clientY);\n    x1 = clientX;\n    y1 = clientY;\n  }\n});","import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.getElementById('form');\nconst closeModalButton = document.querySelector('[data-close-button]');\nconst overlay = document.getElementById('overlay');\nconst modal = document.getElementById('modal');\n\nconst INSTANCE =  axios.create({\n  baseURL: `https://portfolio-js.b.goit.study/api`,\n  headers: {\n    'Accept': 'application/json'\n  }\n});\n\nconst toggleModal = (action) => {\n  if (modal === null) return;\n\n  if (action === 'open') {\n    modal.classList.add('active');\n    overlay.classList.add('active');\n  } else if (action === 'close') {\n    modal.classList.remove('active');\n    overlay.classList.remove('active');\n  }\n};\n\nconst openModal = () => {\n  toggleModal('open');\n};\n\nconst closeModal = () => {\n  toggleModal('close');\n};\n\nconst setRequests = async (data) => {\n  try {\n    const response = await INSTANCE.post(`/requests`, data);\n    handleSuccess(response.data);\n  } catch (error) {\n    handleError(error.message);\n  }\n};\n\nconst handleSuccess = (responseData) => {\n  createHTML(responseData);\n  form.reset();\n};\n\nconst handleError = (errorMessage) => {\n  iziToast.error({\n    title: 'Error',\n    message: errorMessage,\n    position: 'topRight'\n  });\n};\n\nconst notification = (input, text, format) => {\n  const parent = input.parentNode;\n  parent.classList.add(format);\n\n  const notificationLabel = document.createElement('label');\n  notificationLabel.classList.add(`${format}-label`);\n  notificationLabel.textContent = text;\n\n  parent.append(notificationLabel);\n};\n\nconst removeError = (input) => {\n  const parent = input.parentNode;\n\n  parent.classList.remove('error', 'success');\n\n  const errorLabel = parent.querySelector('.error-label');\n  if (errorLabel) {\n    errorLabel.remove();\n  }\n\n  const successLabel = parent.querySelector('.success-label');\n  if (successLabel) {\n    successLabel.remove();\n  }\n};\n\nconst createHTML = (data) => {\n  const { title, message } = data;\n\n  const content = document.querySelector('.content');\n  content.innerHTML = '';\n\n  const titleElement = document.createElement(\"h2\");\n  titleElement.textContent = title;\n\n  const paragraphElement = document.createElement(\"p\");\n  paragraphElement.textContent = message;\n\n  content.append(titleElement, paragraphElement);\n\n  openModal();\n};\n\nconst validateInputs = () => {\n  const inputs = form.querySelectorAll('.form-control');\n  const valid = [];\n\n  inputs.forEach((item) => {\n    const parent = item.parentNode;\n    const checkAttr = item.getAttribute('type') || item.tagName.toLowerCase();\n    removeError(item);\n\n    switch (checkAttr) {\n      case 'text':\n        if (item.value.trim() === '') {\n          parent.classList.add(\"error\");\n          notification(item, \"The field is required.\", \"error\");\n          valid.push(item.getAttribute('name'));\n        } else {\n          parent.classList.remove(\"error\");\n          notification(item, \"Success!\", \"success\");\n        }\n        break;\n      case 'email':\n        const regEmail = /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n        if (item.value.trim() === '' || !regEmail.test(item.value)) {\n          parent.classList.add(\"error\");\n          notification(item, \"Invalid email, please try again\", \"error\");\n          valid.push(item.getAttribute('name'));\n        } else {\n          parent.classList.remove(\"error\");\n          notification(item, \"Success!\", \"success\");\n        }\n        break;\n      default:\n        if (item.value.trim() === '') {\n          parent.classList.add(\"error\");\n          notification(item, \"The field is required.\", \"error\");\n          valid.push(item.getAttribute('name'));\n        } else {\n          parent.classList.remove(\"error\");\n          notification(item, \"Success!\", \"success\");\n        }\n        break;\n    }\n  });\n\n  return valid.length > 0;\n};\n\ndocument.addEventListener('keyup', (e) => {\n  if (e.key === \"Escape\") {\n    closeModal();\n  }\n});\ncloseModalButton.addEventListener('click', closeModal);\noverlay.addEventListener('click', closeModal);\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  let checkValid = validateInputs();\n\n  if(!checkValid){\n\n    let formData = Object.fromEntries(new FormData(document.getElementById('form')).entries());\n\n    const response = setRequests(formData);\n\n    Array.prototype.forEach.call(form.querySelectorAll('label'), (node) => {\n      node.parentNode.removeChild(node);\n    });\n\n    Array.prototype.forEach.call(document.querySelectorAll('.input-holder'), (node) => {\n      node.classList.remove('success');\n    });\n  }\n});\n\nform.addEventListener('input', (e) => {\n  validateInputs();\n});"],"names":["x1","y1","vh","dist_to_draw","delay","fsize","colors","rand","min","max","selRand","o","distanceTo","x2","y2","shouldDraw","x","y","addStr","str","fs","e","clientX","clientY","form","closeModalButton","overlay","modal","INSTANCE","axios","toggleModal","action","openModal","closeModal","setRequests","data","response","handleSuccess","error","handleError","responseData","createHTML","errorMessage","iziToast","notification","input","text","format","parent","notificationLabel","removeError","errorLabel","successLabel","title","message","content","titleElement","paragraphElement","validateInputs","inputs","valid","item","checkAttr","regEmail","formData","node"],"mappings":"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"}